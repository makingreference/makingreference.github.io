<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Episode – Making Reference</title>

  <!-- Same font family as homepage -->
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">

  <style>
    :root {
      --cream: #F3E2C4;
      --accent: #BA4413;
      --bg-dark: #0D0F12;
      --bg-mid: #1A1D22;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background-color: var(--bg-dark);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--cream);
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* ===== TOP GRADIENT WRAPPER (same feel as home) ===== */
    .hero-wrap {
      position: relative;
      overflow: hidden;
      background-color: #050608;
      padding-bottom: 24px;
      border-bottom: 2px solid #000;
    }

    .hero-wrap::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(
        circle at 50% -60%,
        rgba(140, 140, 150, 0.75) 0%,
        rgba(45, 48, 56, 0.85) 50%,
        rgba(5, 6, 8, 0.0) 75%
      );
      pointer-events: none;
      z-index: 0;
    }

    .hero-inner {
      position: relative;
      z-index: 1;
      max-width: 1100px;
      margin: 0 auto;
      padding: 18px 18px 10px;
    }

    /* ===== NAV / TITLE BAR ===== */
    .nav-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 18px;
      padding: 4px 0 10px;
    }

    .brand-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .brand-logo {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      overflow: hidden;
      flex-shrink: 0;
      border: 2px solid rgba(0,0,0,0.6);
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
      background-color: #000;
    }

    .brand-logo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .brand-text {
      font-family: "Bebas Neue", sans-serif;
      letter-spacing: 2px;
      font-size: 18px;
      color: var(--cream);
      text-transform: uppercase;
      white-space: nowrap;
    }

    .nav-links {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      opacity: 0.85;
    }

    .nav-links a {
      padding-bottom: 0.1rem;
      border-bottom: 1px solid transparent;
    }

    .nav-links a:hover {
      border-color: rgba(243, 227, 196, 0.6);
    }

    /* ===== HERO TEXT FOR EPISODE PAGE ===== */
    .hero-copy {
      margin-top: 10px;
      padding: 6px 0 6px;
    }

    .hero-heading {
      font-family: "Bebas Neue", sans-serif;
      font-size: 34px;
      letter-spacing: 3px;
      text-transform: uppercase;
      margin: 4px 0 2px;
    }

    .hero-sub {
      font-size: 15px;
      max-width: 640px;
      line-height: 1.5;
      color: #D8CCB4;
    }

    /* ===== EPISODE LAYOUT ===== */
    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 22px 18px 42px;
      color: var(--cream);
    }

    .episode-layout {
      display: flex;
      gap: 24px;
      align-items: flex-start;
      flex-wrap: wrap;
    }

    .episode-video-card {
      flex: 2 1 340px;
      background-color: #111317;
      border-radius: 10px;
      border: 1px solid #292C31;
      padding: 10px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.65);
    }

    .video-inner {
      position: relative;
      width: 100%;
      padding-top: 56.25%;
      overflow: hidden;
      border-radius: 8px;
      background-color: #000;
    }

    .video-inner iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    .episode-details {
      flex: 1.4 1 260px;
      background-color: #16181B;
      border-radius: 10px;
      border: 1px solid #292C31;
      padding: 14px 16px 16px;
    }

    .episode-tag {
      font-size: 12px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #E2D4B5;
      opacity: 0.9;
      margin-bottom: 6px;
    }

    .episode-title {
      font-family: "Bebas Neue", sans-serif;
      font-size: 28px;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin: 0 0 8px;
    }

    .episode-description {
      font-size: 14px;
      color: #DCCDB2;
      line-height: 1.6;
      margin: 0 0 10px;
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      margin-bottom: 10px;
      opacity: 0.8;
    }

    .back-link span {
      font-size: 16px;
      line-height: 1;
    }

    footer {
      text-align: center;
      padding: 20px;
      font-size: 13px;
      color: #8E8778;
      border-top: 1px solid #1F1F1F;
      margin-top: 20px;
    }

    @media (max-width: 800px) {
      .episode-layout {
        flex-direction: column;
      }
    }

    @media (max-width: 700px) {
      .nav-row {
        flex-direction: column;
        align-items: flex-start;
      }
      .nav-links {
        align-self: flex-end;
      }
      .hero-heading {
        font-size: 28px;
      }
    }
  </style>
</head>
<body>

  <!-- HERO + NAV WRAPPER -->
  <div class="hero-wrap">
    <div class="hero-inner">

      <!-- TOP NAV BAR -->
      <div class="nav-row">
        <div class="brand-left">
          <div class="brand-logo">
            <img src="images/History%20Minute%20Logo.png" alt="History Minute logo">
          </div>
          <div class="brand-text">MAKING REFERENCE · HISTORY MINUTE</div>
        </div>
        <nav class="nav-links">
          <a href="index.html">Episodes</a>
          <a href="about.html">About</a>
          <a href="follow.html">Follow</a>
          <a href="archive.html">Archive</a>
        </nav>
      </div>

      <!-- HERO TEXT FOR EPISODE PAGE -->
      <div class="hero-copy">
        <h1 class="hero-heading" id="hero-episode-heading">WWII HISTORY MINUTE</h1>
        <p class="hero-sub">
          A one-minute story from World War II. Watch the episode, then explore more in the full archive.
        </p>
      </div>

    </div>
  </div>

  <!-- MAIN EPISODE CONTENT -->
  <main>
    <div class="episode-layout">
      <!-- LEFT: VIDEO -->
      <section class="episode-video-card">
        <div class="video-inner">
          <iframe
            id="episode-frame"
            src=""
            title="History Minute Episode"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen>
          </iframe>
        </div>
      </section>

      <!-- RIGHT: DETAILS -->
      <aside class="episode-details">
        <a href="archive.html" class="back-link">
          <span>←</span> Back to archive
        </a>
        <div id="episode-tag" class="episode-tag">WWII · Episode</div>
        <h2 id="episode-title" class="episode-title">Episode Title</h2>
        <p id="episode-description" class="episode-description">
          This is where the short episode description will go.
        </p>
      </aside>
    </div>
  </main>

  <footer>
    &copy; <span id="year"></span> Making Reference · History Minute
  </footer>

  <!-- ========= JAVASCRIPT LOADER ========= -->
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // ===== MASTER EPISODE LIST =====
    const EPISODES = {
      "1": {
        youtubeId: "xTF2WU7Z5lM",
        tag: "Airborne · Europe",
        title: "Jumping Joe Beyrle – The Paratrooper Who Kept Fighting",
        description: "Paratrooper Joe Beyrle jumps into Nazi-occupied Europe, is captured, escapes, and keeps fighting—eventually joining Soviet forces to keep the war going on his own terms."
      },
      "2": {
        youtubeId: "xTF2WU7Z5lM",  /* TEMP until real Tarawa video is uploaded */
        tag: "Pacific · Marines",
        title: "Tarawa – 76 Hours on the Edge of the Pacific",
        description: "On a tiny atoll in the Gilbert Islands, U.S. Marines fight through surf, reefs, and dug-in defenses in a brutal three-day battle that shocks the American public."
      },
      "3": {
        youtubeId: "xTF2WU7Z5lM",  /* TEMP until real Dambusters video is uploaded */
        tag: "Bombers · Europe",
        title: "Operation Chastise – The Dambusters Raid",
        description: "Flying low at night over occupied Europe, RAF crews use experimental 'bouncing bombs' to attack Germany’s great dams and disrupt the Ruhr’s industrial heart."
      }
    };

    // Get ?ep= from the URL
    function getEpisodeNumber() {
      const params = new URLSearchParams(window.location.search);
      return params.get("ep");
    }

    // Initialize episode page (default to ep=1)
    (function initEpisodePage() {
      let ep = getEpisodeNumber() || "1";   // DEFAULT TO EPISODE 1
      const data = EPISODES[ep];

      const frameEl = document.getElementById("episode-frame");
      const tagEl = document.getElementById("episode-tag");
      const titleEl = document.getElementById("episode-title");
      const descEl = document.getElementById("episode-description");
      const heroHeadingEl = document.getElementById("hero-episode-heading");

      if (!data) {
        // Only appears if ?ep=<bad number>
        frameEl.src = "https://www.youtube.com/embed/xTF2WU7Z5lM";
        tagEl.textContent = "Episode Not Found";
        titleEl.textContent = "We couldn’t find that episode.";
        descEl.textContent = "Please return to the archive and choose a story from the list.";
        heroHeadingEl.textContent = "Episode Not Found";
        return;
      }

      // Set YouTube embed
      frameEl.src = "https://www.youtube.com/embed/" + data.youtubeId;

      // Set episode text
      tagEl.textContent = data.tag;
      titleEl.textContent = data.title;
      descEl.textContent = data.description;
      heroHeadingEl.textContent = data.title;
    })();
  </script>

</body>
</html>